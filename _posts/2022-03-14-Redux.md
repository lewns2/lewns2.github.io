---
title: Redux 적용기
description: 어디야 커피 프로젝트에서 Redux 도입 이유와 적용기에 대해 서술합니다.
categories: 
 - 프로젝트
tags: web react redux 
---

## React에서의 상태 관리
상태 관리는 여러 컴포넌트 간에 데이터를 공유하고 커뮤니케이션하는 방법을 말합니다.
애플리케이션의 규모가 커지고 조금이라도 복잡해지면, 의존성을 추적하는 것을 극도로 어렵게 만듭니다.

React에서 전역 상태를 관리하는 방법은 매우 다양합니다.

먼저, useState를 이용하여 지역 상태를 관리한 뒤, props를 통해 컴포넌트 간 데이터 공유합니다.

다음은 전역 상태 관리 도구들을 사용하는 방법입니다.
위 그림과 같이 전역 상태 관리를 돕는 라이브러리는 매우 다양합니다.


전역 상태 관리 도구로는 `Redux`, `Context API`, `Recoil` 등등이 있습니다.



## Redux의 도입 이유
### 전역 상태 관리 도구가 필요했나?
### 많은 전역 상태 관리 도구 중 왜 Redux를 도입했나?
### Redux의 도입 전, 후의 변화 

## 적용하기
## 효과
## 깨달은 점

제 경우, 굳이 필요성이 느껴지지 않는다면 아무리 좋고 새로운 기술이라 하더라도 사용하지 않습니다.
그런 이유로 프로젝트 초기, 오로지 props만을 통해 컴포넌트 간 데이터를 공유하였습니다.
하지만, ''한 문제가 발생했습니다.

'어디야 커피' 프로젝트는 지도를 기반으로 상권을 추천하는 프로젝트입니다.
그러므로 파편화된 모든 데이터는 지도로 모이고, 반대로 지도의 데이터를 다른 컴포넌트로 전달하는 구조입니다.
정리하자면, 프로젝트에 사용되는 모든 데이터는 지도로부터 나오거나, 들어옵니다.

그렇기 때문에, 지도의 조작에 따른 데이터 변화가 잦은 편이며 화면에 나타낼 데이터 또한 다양합니다.
 - 화면에 나타낼 데이터 : `서울시 시의 이름`, `서울시 구의 이름`, `서울시 동의 이름`, `서울시 구의 마커`, `서울시 동의 마커`, `서울시 구의 영역`, `서울시 동의 영역`, `카페 마커`, `카페 인포윈도우`, `상권의 영역`, `상권 인포윈도우`

예를 들어, 지도의 레벨(지도의 줌인, 줌아웃에 따른 지도 상태)이 변경 될 때마다 각 레벨에 해당하는 마커를 보여주어야 합니다.
`서울시 구의 마커`, `서울시 동의 마커`, `서울시 구의 영역`, `서울시 동의 영역`와 같은 마커들은 결코 변하지 않습니다.
그렇다고 지도 레벨에 변경이 발생할때 마다 요청을 보내는 것은 낭비라 생각하였습니다.
전역 상태 관리 도구의 store에 이를 처음에만 요청을 보내고, 후엔 store에서 가져오는 것이 효율적이라 생각했습니다.

또한 프로젝트의 컴포넌트를 도식화하면 다음과 같습니다.
이때 지도에 표시될 데이터는  
`서울시 구의 마커`, `서울시 동의 마커`, `서울시 구의 영역`, `서울시 동의 영역`, `카페 마커`, `카페 인포윈도우`, `상권의 영역` 등 입니다.


이제 Map 컴포넌트를 작성해봅시다.
간단히 생각해본다면, 다음과 같을 것입니다.
1. Map을 불러온다.
2. 검색 기능 함수 작성
3. 위에서 작성한 7가지 데이터를 불러오는 7가지 함수

위의 데이터를 요청하는 함수는 따로 작성한다 하더라도, 하나의 컴포넌트 안에 많은 함수들을 작성해야 했습니다.
이대로 진행한다면, 하나의 컴포넌트안에 하드 코딩을 하게 됩니다.

그렇기 때문에, store에 지도 자체를 객체로 넣어둔 뒤 필요함에 따라 지도를 가지고 온다면
이전 지도 상태를 그대로 가지고 올 수 있어, 하나의 컴포넌트에 하드 코딩하지 않아도 됩니다.







